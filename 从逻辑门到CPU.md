### 1 计算机层次结构

![image1](..\pic\image1.png)



### 2 计算机性能指标和评价

#### 2.1 基本性能指标

##### 2.1.1 字长

计算机的字长一般是指==CPU一次处理的数据位数==，用二进制数的长度来衡量。
字长一般与计算机内部==寄存器==、==运算符==、==数据总线==的位宽相等。

字长一般以字节（Byte）为基本单位。
不同计算机的字长可以不同，有的计算机还支持==变字长==，如支持半字长、全字长、双字长和多字长等，不过它们都是字节的整数倍。
早期的计算机字长较短，一般为 16 位，现代计算机字长一般为 32 位或 64 位。

> 字长对计算机性能有如下几方面的影响:
>
> （1）==影响计算精确度==。字长越长，计算精确度就越高，反之计算精确度就越低。
>
> （2）==影响数据的表示范围和精度==。字长越长，定点数的表示范围就越大，浮点数的表示范围越大、精度也越高。



##### 2.1.2 主存容量

主存容量是指主存能存储的最大信息量，一般用 M×N 表示。

1. 其中 M 表示==存储单元数==，也称字容量
2. N 表示每个==存储单元存储的二进制位数==，也称位容量。

![image2](..\pic\image2.png)

> 增加主存容量能==减少程序运行期间访问辅存的次数==，有利于提高程序的执行速度，也有利于计算机性能的提高。



#### 2.2 与时间有关的性能指标

时间是衡量计算机系统性能最基本的标准，执行同一程序所需要的时间越少，表明该计算机的性能越高。
需要特别强调的是，一段程序的执行往往要经过==硬盘访问==、==内存访问==、==I/O 操作==、==操作系统开销==和 ==CPU 执行==等多个阶段，
因此一段程序的执行时间（也称响应时间）是由硬盘访问时间、内存访问时间、I/O 操作时间、操作系统开销时间和 CPU 执行时间等几部分构成的。

CPU 执行时间也称 CPU 时间，是指 ==CPU 真正花费在该程序上的时间==，又包括==执行用户程序本身所花费的 CPU 时间==（用户 CPU 时间）和为执行程序而==花费在操作系统上的时间==（系统CPU 时间），很难精确区分一个程序执行过程中的用户 CPU 时间和系统 CPU 时间。在没有特别说明的情况下，我们将基于用户 CPU 时间进行计算机性能评价。

> $$CPU时间 = 用户CPU时间 + 系统CPU时间$$



##### 2.2.1 时钟周期

时钟周期是计算机中最基本的、最小的时间单位。在一个时钟周期内，CPU 仅完成一个最基本的动作。

> 时钟周期是时钟频率的倒数，也称为节拍周期或 T 周期，随着 CPU 主频的提高，对应的时钟周期将变短。
>
> 例如，主频 $1GHz$（$10^9 Hz$）的 CPU 时钟周期为 $1ns$。



##### 2.2.2 CPI

> 程序中包含的总指令条数：$IC$
> 程序执行所需要时钟周期：$m$
> 机器周期: $T$
> 机器频率：$f$

Clock Cycles Per Instruction, 是指执行==每条指令所需要的**平均**时钟周期数==。

1. CPI既可以指每条指令执行所需要的时钟周期数。
2. 
3. 也可以指一类指令（如算术运算类指令）或一段程序中所有指令执行多需要时钟周期数的平均值。
4. $CPI$ 计算公式为：$$ CPI = \frac{m}{IC}$$
5. 如果知道某个程序中==每类指令的使用频率==（用$P_i$表示），==每类指令的CPI==（用$CPI_i$表示），==每类指令的条数==（用$IC_i$表示）
   $$CPI = \sum_{i=1}^n(CPI_i \times P_i) = \sum_{i=1}^n(CPI_i \times \frac{IC_i}{IC})$$



##### 2.2.3 CPU时间

>  程序中包含的总指令条数：$IC$
> 程序执行所需要时钟周期：$m$
> 机器周期: $T$
> 机器频率：$f$

某段程序的CPU时间$T_{cpu}$:
 	1. $$T_{cpu} = m \times T = \frac{m}{f}$$
 	2. $$T_{cpu} = CPI \times IC \times T = \frac{CPI \times IC}{f}$$



决定CPU时间的三个因素：

1. 时钟频率 => 取决于CPU的实现技术和工艺
2. CPI => 取决于计算机实现技术和指令集结构
3. 指令条数 => 与指令系统的设计和编译技术有关



##### IPC

······
